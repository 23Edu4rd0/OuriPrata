{% load static %}
<header class="font-montserrat">
  <!-- Navbar principal -->
  <nav class="bg-white py-3 shadow-sm border-bottom">
    <div class="container d-flex flex-wrap align-items-center justify-content-between gap-3">
      <!-- Logo -->
      <a href="{% url 'home' %}" class="flex-shrink-0">
        <img
          src="{% static 'assets/landing_page/logo.png' %}"
          alt="Logo OuriPrata"
          class="logo-navbar"
          style="width: 8rem; max-width: 100%;"
        />
      </a>
      <!-- Search Bar -->
      <form class="position-relative flex-grow-1 mx-3" style="max-width: 320px;">
        <input
          type="text"
          placeholder="Buscar..."
          class="form-control ps-5 pe-3 py-2 rounded-pill shadow-sm border border-secondary bg-light text-dark"
        />
        <span class="position-absolute top-50 start-0 translate-middle-y ps-3 text-secondary">
          <i class="bi bi-search"></i>
        </span>
      </form>
      <!-- Menu PC -->
      <nav id="main-menu" aria-label="Menu principal" class="d-none d-md-flex align-items-center fw-semibold">
        <ul class="nav">
          <li class="nav-item">
            <a href="#" class="nav-link d-flex align-items-center text-dark px-2" aria-label="Meu Carrinho">
              <i class="bi bi-cart3 fs-5 me-1"></i>
              <span>Meu Carrinho</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'product' %}" class="nav-link d-flex align-items-center text-dark px-2" aria-label="Minha Conta">
              <i class="bi bi-person-circle fs-5 me-1"></i>
              <span>Minha Conta</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'contact' %}" class="nav-link d-flex align-items-center text-dark px-2" aria-label="Contato">
              <i class="bi bi-envelope fs-5 me-1"></i>
              <span>Contato</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- Botão Menu Mobile -->
      <button id="menu-toggle" class="d-md-none ms-auto btn btn-link text-dark p-0" style="font-size: 2rem;">
        <i class="bi bi-list"></i>
      </button>
    </div>
  </nav>
  <!-- Menu de categorias -->
  <nav class="d-none d-sm-block bg-white shadow-sm border-bottom" aria-label="Categorias">
    <div class="container">
      <ul class="nav justify-content-center fw-semibold text-secondary py-2">
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Alianças">Alianças</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Casamento">Casamento</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Pingentes">Pingentes</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Aparadores">Aparadores</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Conjuntos">Conjuntos</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Manuscritos">Manuscritos</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-secondary hover-text-warning" aria-label="Pulseiras / Brincos">Pulseiras / Brincos</a></li>
      </ul>
    </div>
  </nav>
  <!-- Menu Mobile (gerado dinamicamente) -->
  <nav id="mobile-menu" class="d-md-none bg-dark text-white px-4 py-2" style="display: none;" aria-label="Menu mobile">
    <!-- O conteúdo será gerado via JS -->
  </nav>
  <!-- Script Menu Mobile -->
  <script>
    const toggleBtn = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");
    const mainMenu = document.getElementById("main-menu");
    toggleBtn?.addEventListener("click", () => {
      if (mobileMenu.style.display === "none" || !mobileMenu.style.display) {
        mobileMenu.style.display = "block";
      } else {
        mobileMenu.style.display = "none";
      }
    });
    // Gera o menu mobile a partir do menu desktop
    if (mainMenu && mobileMenu) {
      const desktopList = mainMenu.querySelector("ul");
      if (desktopList) {
        const mobileList = desktopList.cloneNode(true);
        mobileList.className = "nav flex-column";
        mobileList.querySelectorAll("a").forEach(a => {
          a.classList.remove("text-dark");
          a.classList.add("text-white");
        });
        mobileMenu.innerHTML = "";
        mobileMenu.appendChild(mobileList);
      }
    }
  </script>
</header>
